

{% extends 'layout.njk' %}

{% block content %}



    <div class="card">

        <section 
            class="avatar" 
            style="background: url({{ member.avatar_url }}) no-repeat center center / cover"
        >

        </section>

        <section class="details">

            <form  method="POST" action="/members?_method=PUT">
            
                <h3>Editar Instrutor</h3>

                {% include 'members/fields.njk' %}    
                    {# pega o conteudo do fields e coloca aqui #}
                
                <input 
                type="hidden" 
                name="id"
                value="{{ member.id }}"
                >

            </form>

            <form id="form-delete" method="POST" action="/members?_method=DELETE" >
                <input 
                    type="hidden" 
                    name="id"
                    value="{{ member.id }}"    
                >

                <button type="submit">Deletar</button>
            </form>
            
        </section>
    
        <script>

            //pede confirma√ßao para deletar, se clicar em nao, cancela o submit

            const formDelete = document.querySelector("#form-delete");
            formDelete.addEventListener("submit", function(event) {
                const confirmation = confirm("Deseja Deletar?");
                if(!confirmation) {
                    event.preventDefault();
                }
            });

        </script>

    </div>




{% endblock content %}